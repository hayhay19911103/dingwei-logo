<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Demo2</title>
<style type="text/css">
*{margin:0;padding:0;}
body{line-height:1.7;font-size:12px;}
#content{width:800px;margin:0 auto;}
#content li{list-style:none;}
h1{color:#0088bb;}
h2{border-bottom:#0088bb solid 2px;font-size:16px;font-weight:bold;}
.item{border:1px dotted #0088bb;margin-bottom:20px;padding:20px;}
li a img{width:230px;height:230px;border:none;}
li{display:inline;margin-right:10px;}
#menu li a{list-style:none;text-decoration:none;display:block;width:80px;height:50px;font-size:14px;font-weight:bold;line-height:50px;color:#333;margin:5px 0;text-align:center;}
#menu{position:fixed;top:100px;left:50%;margin-left:400px;width:50px;}
#menu li a:hover,
#menu li a.current{color:#fff;background:#0088bb;}
</style>
<script src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
<script>
	$(document).ready(function(){
	 //监听滚动条发生滚动,用scroll
		$(window).scroll(function(){
			var items=$("#content").find(".item");//获取每个Item
			var top=$(document).scrollTop();//滚动条滚动离顶部的距离
			//console.log(top);
			var menu=$("#menu");
			var currentId;
			items.each(function(){
				var m=$(this);
				var itemtop=m.offset().top;//每个item离顶部的距离
				//console.log(itemtop);
				if(top>itemtop-200){//判断当前处于哪个item
					currentId="#"+m.attr("id");
				}else{
					return false;	
				}
				
			});
			//给当前currentId添加class，把原来的class删除
			var currentLink=menu.find(".current");
			if(currentId&&currentLink.attr("href")!=currentId){
				currentLink.removeClass("current");
				menu.find("[href="+currentId+"]").addClass("current");
			}
		});
	});
</script>
</head>

<body>
<div id="menu">
	<ul>
		<li ><a href="#item1" class="current">1F 男装</a></li>
		<li><a href="#item2">2F 女装</a></li>
		<li><a href="#item3">3F 美妆</a></li>
		<li><a href="#item4">4F 数码</a></li>
		<li><a href="#item5">5F 母婴</a></li>
	</ul>
</div>
<div id="content">
	<h1>地购购物网</h1>
	<div id="item1" class="item">
		<h2>1F 男装</h2>
		<ul>
			<li><a href="#"><img src="1F.jpg" /></a></li>
			<li><a href="#"><img src="1F.jpg" /></a></li>
			<li><a href="#"><img src="1F.jpg" /></a></li>
			<li><a href="#"><img src="1F.jpg" /></a></li>
			<li><a href="#"><img src="1F.jpg" /></a></li>
			<li><a href="#"><img src="1F.jpg" /></a></li>
			<li><a href="#"><img src="1F.jpg" /></a></li>
			<li><a href="#"><img src="1F.jpg" /></a></li>
			<li><a href="#"><img src="1F.jpg" /></a></li>
		</ul>
	</div>
	
	<div id="item2" class="item">
		<h2>2F 女装</h2>
		<ul>
			<li><a href="#"><img src="2F.jpg" /></a></li>
			<li><a href="#"><img src="2F.jpg" /></a></li>
			<li><a href="#"><img src="2F.jpg" /></a></li>
			<li><a href="#"><img src="2F.jpg" /></a></li>
			<li><a href="#"><img src="2F.jpg" /></a></li>
			<li><a href="#"><img src="2F.jpg" /></a></li>
			<li><a href="#"><img src="2F.jpg" /></a></li>
			<li><a href="#"><img src="2F.jpg" /></a></li>
			<li><a href="#"><img src="2F.jpg" /></a></li>
		</ul>
	</div>
	<div id="item3" class="item">
		<h2>3F 美妆</h2>
		<ul>
			<li><a href="#"><img src="3F.jpg" /></a></li>
			<li><a href="#"><img src="3F.jpg" /></a></li>
			<li><a href="#"><img src="3F.jpg" /></a></li>
			<li><a href="#"><img src="3F.jpg" /></a></li>
			<li><a href="#"><img src="3F.jpg" /></a></li>
			<li><a href="#"><img src="3F.jpg" /></a></li>
			<li><a href="#"><img src="3F.jpg" /></a></li>
			<li><a href="#"><img src="3F.jpg" /></a></li>
			<li><a href="#"><img src="3F.jpg" /></a></li>
		</ul>
	</div>
	<div id="item4" class="item">
		<h2>4F 数码</h2>
		<ul>
			<li><a href="#"><img src="4F.png" /></a></li>
			<li><a href="#"><img src="4F.png" /></a></li>
			<li><a href="#"><img src="4F.png" /></a></li>
			<li><a href="#"><img src="4F.png" /></a></li>
			<li><a href="#"><img src="4F.png" /></a></li>
			<li><a href="#"><img src="4F.png" /></a></li>
			<li><a href="#"><img src="4F.png" /></a></li>
			<li><a href="#"><img src="4F.png" /></a></li>
			<li><a href="#"><img src="4F.png" /></a></li>
		</ul>
	</div>
	<div id="item5" class="item">
		<h2>5F 母婴</h2>
		<ul>
			<li><a href="#"><img src="5F.jpg" /></a></li>
			<li><a href="#"><img src="5F.jpg" /></a></li>
			<li><a href="#"><img src="5F.jpg" /></a></li>
			<li><a href="#"><img src="5F.jpg" /></a></li>
			<li><a href="#"><img src="5F.jpg" /></a></li>
			<li><a href="#"><img src="5F.jpg" /></a></li>
			<li><a href="#"><img src="5F.jpg" /></a></li>
			<li><a href="#"><img src="5F.jpg" /></a></li>
			<li><a href="#"><img src="5F.jpg" /></a></li>
		</ul>
	</div>
</div>
</body>
</html>
